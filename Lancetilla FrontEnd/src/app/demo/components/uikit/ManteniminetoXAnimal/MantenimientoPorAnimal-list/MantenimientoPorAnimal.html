<div class="grid">
    <div class="col-12">
        <div class="card px-6 py-6">
            <p-toast></p-toast>
            <p-toolbar styleClass="mb-4">
                <ng-template pTemplate="left">
                    <div class="my-2">
                        <button pButton pRipple label="Nuevo" icon="pi pi-plus" class="p-button-success mr-2"
                        [routerLink]="['/app/uikit/ManteniminetoXAnimal/Create']"></button>
                    </div>
                </ng-template>

                <!--
                <ng-template pTemplate="right">
                    <p-fileUpload mode="basic" accept="image/*" [maxFileSize]="1000000" label="Import"
                        chooseLabel="Import" class="mr-2 inline-block"></p-fileUpload>
                    <button pButton pRipple label="Export" icon="pi pi-upload" class="p-button-help"
                        (click)="dt.exportCSV()"></button>
                </ng-template>-->
            </p-toolbar>

            <div class="col-12">
        
				<p-toast></p-toast>
				
	  
	  
				  <p-table #dt [value]="Roles" [columns]="cols" responsiveLayout="scroll" [rows]="rows" [paginator]="true"
					[showCurrentPageReport]="true" [(selection)]="Rol" selectionMode="multiple" [rowHover]="true" dataKey="id"
					[first]="first" [rows]="rows">
			   		  
					<ng-template pTemplate="header">
					  <tr>
						<th style="width: 3rem"></th>
						<th pSortableColumn="anim_Id">Animal ID <p-sortIcon field="anim_Id"></p-sortIcon></th>
						<th pSortableColumn="anim_Nombre">Animal <p-sortIcon field="anim_Nombre"></p-sortIcon>
						</th>
						<th pSortableColumn="category">Acciones <p-sortIcon field="category"></p-sortIcon></th>
					  </tr>
					</ng-template>
					<ng-template pTemplate="body" let-Roles let-expanded="expanded">
					  <tr>
						<td>
						  <button type="button" (click)="Pantallas(Roles)" pButton pRipple
							class="p-button-text p-button-rounded p-button-plain"
							[icon]="isRowExpanded(Roles) ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
						</td>
						<td style="min-width: 12rem;">{{Roles.anim_Id}}</td>
						<td style="min-width: 12rem;">{{Roles.anim_Nombre}}</td>
						<td style="min-width: 8rem;">
						  <div class="flex">
							<button
							[routerLink]="['/app/uikit/ManteniminetoXAnimal/Edit',mantenimientoXanimal.anim_Id]"
							pButton
							pRipple
							icon="pi pi-pencil"
							class="p-button-rounded p-button-success mr-2"
						></button>
							
						  </div>
						</td>
					  </tr>
					  <tr *ngIf="expandedRow === Roles" [ngClass]="{'ui-widget-content': true}">
						<td [attr.colspan]="4">
						  <div class="p-3">
							<div class="table-container">
							  <p-table [value]="datos" dataKey="id" [responsive]="true" [scrollable]="true"
								[scrollHeight]="'300px'">
	  
								<ng-template pTemplate="header">
					  <tr>
						<th pSortableColumn="maan_Id">ID <p-sortIcon field="maan_Id"></p-sortIcon></th>
						<th pSortableColumn="anim_Nombre">Animal <p-sortIcon field="anim_Nombre"></p-sortIcon></th>
						<th pSortableColumn="maan_Fecha">Fecha <p-sortIcon field="maan_Fecha"></p-sortIcon></th>
						<th pSortableColumn="tima_Descripcion">Tipo de Mantenimiento <p-sortIcon field="tima_Descripcion"></p-sortIcon></th>
						<th pSortableColumn="customer">Eliminar <p-sortIcon field="customer"></p-sortIcon></th>
					  </tr>
					</ng-template>
					<ng-template pTemplate="body" let-datos>
					  <tr>
						<td>{{datos.maan_Id}}</td>
						<td>{{datos.anim_Nombre}}</td>
						<td>{{datos.maan_Fecha}}</td>
						<td>{{datos.tima_Descripcion}}</td>
						<td>
						  <div class="flex">
							<button
                                                                 pButton
                                                                pRipple
                                                                icon="pi pi-trash"
                                                                class="p-button-rounded p-button-warning"
                                                            ></button>
						  </div>
						</td>
					  </tr>
					</ng-template>
	  
				  </p-table>
				</div>
			  </div>
			  </td>
			  </tr>
			  </ng-template>
			  </p-table>
			
		  </div>
            

         

        <p-dialog [(visible)]="deleteMantenimientoPorAnimalDialog" header="Confirm" [modal]="true" [style]="{width:'450px'}">
            <div class="flex align-items-center justify-content-center">
                <i class="pi pi-exclamation-triangle mr-3" style="font-size: 2rem"></i>
                <span *ngIf="mantenimientoXanimal">Estas seguro de querer eliminar a <b>{{mantenimientoXanimal.anim_Nombre}}</b>?</span>
            </div>
            <ng-template pTemplate="footer">
                <button pButton pRipple icon="pi pi-times" class="p-button-text" label="No"
                    (click)="deleteMantenimientoPorAnimalDialog = false"></button>
                <button pButton pRipple icon="pi pi-check" class="p-button-text" label="Yes"
                    (click)="confirmDelete()"></button>
            </ng-template>
        </p-dialog>

    </div>

 