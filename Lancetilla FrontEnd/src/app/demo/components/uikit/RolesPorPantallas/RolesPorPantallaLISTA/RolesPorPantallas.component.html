<div class="grid">
  <div class="col-12">
    <div class="card px-6 py-6">
      <p-toast></p-toast>
      <div class="card-img-top">
        <img src="https://i.ibb.co/HpTjZMn/roles.png" width="100%" height="40%">
      </div>
      <br>

      <div class="flex align-items-center justify-content-start">
        <div class="mr-4">
          <span class="mr-3">Mostrar:</span>
          <p-dropdown [options]="rowsPerPageOptions" [(ngModel)]="rows" [style]="{width:'auto'}"
            (onChange)="onRowsPerPageChange()"></p-dropdown>
        </div>
        <div class="mr-3">
          <button pButton pRipple label="Nuevo" [routerLink]="['/app/uikit/RolesPorPantalla/Insert']" icon="pi pi-plus"
            class="p-button-success mr-2"></button>

        </div>

        <div class="ml-auto">
          <span class="p-input-icon-left">
            <i class="pi pi-search" style="color: rgb(0, 0, 0)"></i>
            <input pInputText type="text" (input)="onGlobalFilter(dt, $event)" placeholder="Buscar..."
              class="p-button-success" />
          </span>
        </div>
      </div>

      <br>
      <div class="col-12">
        
          <p-toast></p-toast>
          


            <p-table #dt [value]="Roles" [columns]="cols" responsiveLayout="scroll" [rows]="rows" [paginator]="true"
              [showCurrentPageReport]="true" [(selection)]="Rol" selectionMode="multiple" [rowHover]="true" dataKey="id"
              [first]="first" [rows]="rows">
         


              <ng-template pTemplate="header">
                <tr>
                  <th style="width: 3rem"></th>
                  <th pSortableColumn="role_Id">Rol ID <p-sortIcon field="role_Id"></p-sortIcon></th>
                  <th pSortableColumn="role_Descripcion">Descripcion <p-sortIcon field="role_Descripcion"></p-sortIcon>
                  </th>
                  <th pSortableColumn="category">Acciones <p-sortIcon field="category"></p-sortIcon></th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-Roles let-expanded="expanded">
                <tr>
                  <td>
                    <button type="button" (click)="Pantallas(Roles)" pButton pRipple
                      class="p-button-text p-button-rounded p-button-plain"
                      [icon]="isRowExpanded(Roles) ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
                  </td>
                  <td style="min-width: 12rem;">{{Roles.role_Id}}</td>
                  <td style="min-width: 12rem;">{{Roles.role_Descripcion}}</td>
                  <td style="min-width: 8rem;">
                    <div class="flex">
                      <button pButton pRipple icon="pi pi-pencil"
                        [routerLink]="['/app/uikit/RolesPorPantalla/Update', Roles.role_Id, Roles.role_Descripcion]"
                        class="p-button-rounded p-button-success mr-2"></button>
                      <button pButton pRipple icon="pi pi-trash" (click)="EliminarRol(Roles)"
                        class="p-button-rounded p-button-warning"></button>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="expandedRow === Roles" [ngClass]="{'ui-widget-content': true}">
                  <td [attr.colspan]="4">
                    <div class="p-3">
                      <div class="table-container">
                        <p-table [value]="datos" dataKey="id" [responsive]="true" [scrollable]="true"
                          [scrollHeight]="'300px'">

                          <ng-template pTemplate="header">
                <tr>
                  <th pSortableColumn="pant_Id">ID <p-sortIcon field="pant_Id"></p-sortIcon></th>
                  <th pSortableColumn="pant_Descripcion">Pantalla <p-sortIcon field="pant_Descripcion"></p-sortIcon>
                  </th>
                  <th pSortableColumn="customer">Eliminar <p-sortIcon field="customer"></p-sortIcon></th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-datos>
                <tr>
                  <td>{{datos.pant_Id}}</td>
                  <td>{{datos.pant_Descripcion}}</td>
                  <td>
                    <div class="flex">
                      <button (click)="EliminarPantallas(Roles,datos)" pButton pRipple icon="pi pi-trash"
                        class="p-button-rounded p-button-warning"></button>
                    </div>
                  </td>
                </tr>
              </ng-template>

            </p-table>
          </div>
        </div>
        </td>
        </tr>
        </ng-template>
        </p-table>
      
    </div>
  </div>
</div>
</div>
